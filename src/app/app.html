<!-- Animated Heart Background -->
<div class="hearts-background">
  <div class="heart heart-1"></div>
  <div class="heart heart-2"></div>
  <div class="heart heart-3"></div>
  <div class="heart heart-4"></div>
  <div class="heart heart-5"></div>
</div>

<main class="main-container">
  <!-- Landing Section -->
  <section class="landing-section" @fadeIn>
    <h1 class="main-title">{{ MAIN_TITLE }}</h1>
    <p class="subtitle">{{ LANDING_SUBTITLE }}</p>
    <div class="scroll-indicator">
      <span>{{ SCROLL_INDICATOR_TEXT }}</span>
      <div class="arrow-down"></div>
    </div>
  </section>

  <!-- Love Message Section -->
  <section class="love-message-section" @slideIn>
    <div class="message-container">
      <h2 class="section-title">{{ SECTION_TITLES.loveMessage }}</h2>
      <div class="message-content" @typewriter>
        <pre>{{ displayedMessage() }}<span class="cursor">|</span></pre>
      </div>
    </div>
  </section>

  <!-- Memories Gallery Section -->
  <section class="memories-section" @slideIn>
    <h2 class="section-title">{{ SECTION_TITLES.memories }}</h2>
    <div class="gallery-grid">
      @for (memory of memories; track memory.url) {
        <div class="gallery-item" (click)="openModal(memory)">
          <img [src]="memory.url" [alt]="memory.caption" loading="lazy" />
          <div class="gallery-overlay">
            <h3 class="gallery-caption">{{ memory.caption }}</h3>
            <p class="gallery-description">{{ memory.description }}</p>
          </div>
        </div>
      }
    </div>
  </section>

  <!-- Time Together Section -->
  <section class="countdown-section" @slideIn>
    <h2 class="section-title">{{ SECTION_TITLES.countdown }}</h2>
    <p class="subtitle">Together Since {{ LOVE_START_DATE_DISPLAY }}</p>
    <div class="countdown-container">
      <div class="countdown-item">
        <div class="countdown-number">{{ years() }}</div>
        <div class="countdown-label">Years</div>
      </div>
      <div class="countdown-divider">:</div>
      <div class="countdown-item">
        <div class="countdown-number">{{ months() }}</div>
        <div class="countdown-label">Months</div>
      </div>
      <div class="countdown-divider">:</div>
      <div class="countdown-item">
        <div class="countdown-number">{{ days() }}</div>
        <div class="countdown-label">Days</div>
      </div>
    </div>
  </section>

  <!-- Surprise Button Section -->
  <section class="surprise-section" @slideIn>
    <h2 class="section-title">{{ SECTION_TITLES.surprise }}</h2>
    <button class="surprise-button" (click)="revealSurprise()" [@heartBeat]="heartBeatState">
      {{ SURPRISE_BUTTON_TEXT }}
    </button>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <p>{{ FOOTER_TEXT }}</p>
  </footer>
</main>

<!-- Image Modal -->
@if (selectedMemory()) {
  <div class="modal" @fadeIn (click)="closeModal()">
    <button class="modal-close" (click)="closeModal()">‚úï</button>
    <div class="modal-content" (click)="$event.stopPropagation()">
      <img [src]="selectedMemory()!.url" [alt]="selectedMemory()!.caption" />
      <div class="modal-info">
        <h3>{{ selectedMemory()!.caption }}</h3>
        <p>{{ selectedMemory()!.description }}</p>
      </div>
    </div>
  </div>
}

<!-- Surprise Modal -->
@if (showSurprise()) {
  <div class="surprise-modal" @fadeIn (click)="closeSurprise()">
    <div class="surprise-content" (click)="$event.stopPropagation()">
      <button class="close-button" (click)="closeSurprise()">‚úï</button>
      <h2 class="surprise-title">{{ SURPRISE_CONTENT.title }}</h2>
      <p class="surprise-message">{{ SURPRISE_CONTENT.message }}</p>
      <div class="surprise-heart">üíó</div>
      <p class="surprise-footer">{{ SURPRISE_CONTENT.footer }}</p>
    </div>

    <!-- Floating Hearts Animation -->
    @for (heart of hearts; track $index) {
      <div class="floating-heart"
           [style.left]="heart.left"
           [style.animation-delay]="heart.delay"
           [style.animation-duration]="heart.duration">
        ‚ù§Ô∏è
      </div>
    }
  </div>
}
